<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/jquery-ui-multiselect/jquery.multiselect.css" />
<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/select2/select2.css" />
<!-- BEGIN GLOBAL MANDATORY STYLES -->
<link rel="stylesheet" type="text/css" href="javascript/assets/fonts/font-awesome/css/font-awesome.min.css"/>
<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/bootstrap/css/bootstrap.min.css"/>
<!-- END GLOBAL MANDATORY STYLES -->
<!-- BEGIN PAGE LEVEL STYLES -->
<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/jquery-ui/jquery-ui-custom.min.css" />
<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/jquery-ui-multiselect/jquery.multiselect.css" />
<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/select2/select2.css" />
<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/bootstrap-datepicker/css/datepicker.css"/>
<link rel="stylesheet" type="text/css" href="javascript/assets/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css"/>
<!-- END PAGE LEVEL STYLES -->
<!-- BEGIN THEME STYLES -->
<link rel="stylesheet" type="text/css" href="javascript/assets/css/style-bootstrap-custom.css"/>
<link rel="stylesheet" type="text/css" href="javascript/assets/css/style.css"/>
<link rel="stylesheet" type="text/css" href="javascript/assets/css/style-responsive.css"/>
<link rel="stylesheet" type="text/css" href="javascript/assets/css/style-upgrade.css"/>
<link rel="stylesheet" type="text/css" href="javascript/assets/css/theme-default.css"/>
<link rel="stylesheet" type="text/css" href="javascript/assets/css/plugins.css"/>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="javascript/assets//css/ie8.css"/>
<![endif]-->
<!-- END THEME STYLES -->
<!-- BEGIN PAGE CONTAINER --> 
<div id="content" class="page-container"  style="height: 100%">  
<!-- BEGIN PAGE CONTENT -->  
<div class="page-content-wrapper">   
<!-- END TICKER-->  
<div class="page-content fullwidth">   
  <!-- BEGIN PAGE HEADER-->  
 <div class="row">   
   <!-- BEGIN PAGE TITLE-->  
   <h3 class="page-title">请假流程编辑</small> </h3>
   <!-- END PAGE TITLE-->   
 </div>  
<div class="clearfix"> </div>
<!-- END PAGE ROW--> 
<!-- BEGIN PAGE ROW--> 
<div class="row "> 
<div class="col-md-12 col-sm-12"> 
<div class="portlet no-border"> 
<div class="tab-pane" id="tab_form_1"> 
<div class="portlet"> 
 <div class="portlet-title"> 
  <div class="caption"> <i class="fa fa-reorder"></i> </div>
  <div class="active"> <a href="javascript:;" class="collapse"></a>  </div> 
</div> 
<div class="portlet-body form">  
   <!-- BEGIN FORM--> 
<form class="form-horizontal"  name="ActionForm"  method="post"  action="<ActionURI/>"> 
 <input type='hidden' name='act'>
 <input type='hidden' name='rowID'    value='<rowID/>'    id='rowID' >
  <input type='hidden' name='returnMsg' id='returnMsg' >
<div class="form-body">


<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1">部门:</SPAN>

<div class="col-md-2">
<Dept/>
</div>
<SPAN class="control-label col-md-1"></SPAN>
<div class="col-md-6">
</div>
 </div>
</div>
<div class="col-md-6">
<div class="form-group">
</div>
</div>
</div>


<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1">簽核流程設定:</SPAN>

<div class="col-md-10">
<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">三天以下</h3>
  </div>
  <table class="table">
    <thead>
      <tr>
      <th>员工身份</th>
        <th>经理</th>
        <th>副总</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td> 部门主管  <oneDID/> </td>
          <td><oneDLever3/> </td>
        <td><oneDLever4/> </td>
      </tr>
      <tr>
        <td> 经理<oneMID/></td>
          <td></td>
        <td><oneMLever4/></td>
      </tr>
    </tbody>
  </table>
</div>

</div>

<div class="col-md-1">

</div>

 </div>
</div>
</div>

<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1"></SPAN>


<div class="col-md-10">
<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">三天以上</h3>
  </div>
  <table class="table">
    <thead>
      <tr>
     <th>员工身份</th>
        <th>经理</th>
        <th>副总</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td> 部门主管 <threeDID/></td>
        <td><threeDLever3/> </td>
        <td><threeDLever4/> </td>

      </tr>
        <tr>
        <td> 经理 <threeMID/></td>
        <td></td>
        <td><threeMLever4/></td>

      </tr>
    </tbody>
  </table>
</div>
</div>
<div class="col-md-1">

</div>

 </div>
</div>
</div>



<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1"></SPAN>

<div  class="col-md-2">
<button class="btn btn-success " onclick="saveDeptData();" type="button">部门设定</button>
</div>

<SPAN class="control-label col-md-1"> </SPAN>
<div class="col-md-6">
</div>
 </div>
</div>
<div class="col-md-6">
<div class="form-group">
</div>
</div>
</div>

<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1">部门所属单位:</SPAN>

<div  id='UnitDiv' class="col-md-2">
<Unit/>
</div>
<SPAN class="control-label col-md-1"> </SPAN>
<div class="col-md-6">
</div>
 </div>
</div>
<div class="col-md-6">
<div class="form-group">
</div>
</div>
</div>

<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1">簽核流程設定:</SPAN>

<div class="col-md-10">
<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">三天以下</h3>
  </div>
  <table class="table">
    <thead>
      <tr>
     <th>员工身份</th>
       <th>单位主管</th>
         <th>部门主管</th>
        <th>经理</th>
        <th>副总</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td> 一般员工或组长<oneEID/></td>
         <td><oneELever1/></td>
        <td><oneELever2/>  </td>
        <td><oneELever3/>  </td>
        <td><oneELever4/> </td>
      </tr>
       <tr>
        <td> 单位主管<oneUID/></td>
       <td> </td>
         <td><oneULever2/> </td>
        <td><oneULever3/> </td>
        <td><oneULever4/> </td>
      </tr>
    </tbody>
  </table>
</div>

</div>
<div class="col-md-1">

 </div>

 </div>
</div>
</div>


<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1"></SPAN>


<div class="col-md-10">
<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">三天以上</h3>
  </div>
  <table class="table">
    <thead>
      <tr>
     <th>员工身份</th>
         <th>单位主管</th>
         <th>部门主管</th>
        <th>经理</th>
        <th>副总</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>一般员工或组长<threeEID/></td>
        <td><threeELever1/></td>
        <td><threeELever2/>  </td>
        <td><threeELever3/>  </td>
        <td><threeELever4/> </td>
      </tr>
       <tr>
        <td>单位主管<threeUID/></td>
        <td> </td>
         <td><threeULever2/> </td>
        <td><threeULever3/> </td>
        <td><threeULever4/> </td>
      </tr>
    </tbody>
  </table>
</div>
</div>
<div class="col-md-1">

 </div>

 </div>
</div>
</div>

<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1"></SPAN>

<div  class="col-md-2">
<button class="btn btn-success " onclick="saveUnitData();" type="button">单位设定</button>
</div>
<SPAN class="control-label col-md-1"> </SPAN>
<div class="col-md-6">
</div>
 </div>
</div>
<div class="col-md-6">
<div class="form-group">
</div>
</div>
</div>


<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1">单位所属组别:</SPAN>

<div  id='UnitDiv' class="col-md-2">
<Group/>
</div>
<SPAN class="control-label col-md-1"> </SPAN>
<div class="col-md-6">
</div>
 </div>
</div>
<div class="col-md-6">
<div class="form-group">
</div>
</div>
</div>

<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1">簽核流程設定:</SPAN>

<div class="col-md-10">
<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">三天以下</h3>
  </div>
  <table class="table">
    <thead>
      <tr>
     <th>员工身份</th>
        <th>组长</th>
       <th>单位主管</th>
         <th>部门主管</th>
        <th>经理</th>
        <th>副总</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td> 组员  <oneGEID/></td>
            <td><oneGELever0/></td>
         <td><oneGELever1/></td>
        <td><oneGELever2/>  </td>
        <td><oneGELever3/>  </td>
        <td><oneGELever4/> </td>
      </tr>
    </tbody>
  </table>
</div>

</div>
<div class="col-md-1">

 </div>

 </div>
</div>
</div>


<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1"></SPAN>


<div class="col-md-10">
<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">三天以上</h3>
  </div>
  <table class="table">
    <thead>
      <tr>
     <th>员工身份</th>
       <th>组长</th>
         <th>单位主管</th>
         <th>部门主管</th>
        <th>经理</th>
        <th>副总</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td> 组员<threeGEID/></td>
              <td><threeGELever0/></td>
        <td><threeGELever1/></td>
        <td><threeGELever2/>  </td>
        <td><threeGELever3/>  </td>
        <td><threeGELever4/> </td>
      </tr>
     
    </tbody>
  </table>
</div>
</div>
<div class="col-md-1">

 </div>

 </div>
</div>
</div>

<div class="row">
<div class="col-md-12">
<div class="form-group">
<SPAN class="control-label col-md-1"></SPAN>

<div  class="col-md-2">
<button class="btn btn-success " onclick="saveGroupData();" type="button">组别设定</button>
</div>
<SPAN class="control-label col-md-1"> </SPAN>
<div class="col-md-6">
</div>
 </div>
</div>
<div class="col-md-6">
<div class="form-group">
</div>
</div>
</div>


</div>
</div>
<div class="form-actions right">  
<button class="btn btn-primary " onclick="ActionForm.act.value='QUE';ActionForm.submit();" type="button">流程設定查询</button> 

</div></FORM> 
<msg/>
</div> 
<drawTableM/>
</div> 
</div>
  <!-- END PAGE CONTENT --> 
</div>
<!-- END PAGE CONTAINER -->  <!-- BEGIN FOOTER --> 
<div id="footer" class="footer"> 
<div class="footer-inner"> </div> 
<div class="footer-tools"></div> 
<!-- END FOOTER -->  
</div> 
<!-- END WRAPPER -->  

<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="javascript/assets/css/ie8.css"/>
<![endif]-->
<!-- END THEME STYLES -->
<!--[if lt IE 9]>
<script type="text/javascript" src="javascript/assets//plugins/respond.min.js"></script>
<script type="text/javascript" src="javascript/assets//plugins/excanvas.min.js"></script> 

<script type="text/javascript" src="javascript/assets//plugins/jquery-1.11.1.min.js"></script> 
<![endif]--> 
<script type="text/javascript" src="javascript/assets//plugins/jquery-migrate-1.1.0.js"></script> 
<script type="text/javascript" src="javascript/assets//plugins/bootstrap/js/bootstrap.min.js"></script> 
<script type="text/javascript" src="javascript/assets//plugins/jquery-slimscroll/jquery.slimscroll.min.js"></script> 
<script type="text/javascript" src="javascript/assets//plugins/jquery-cookie-master/src/jquery.cookie.js"></script> 
<!-- END CORE PLUGINS --> 
<!-- BEGIN PAGE LEVEL PLUGINS --> 
<script type="text/javascript" src="javascript/assets/plugins/jquery-ui/jquery-ui-custom.min.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/jquery-ui-touch-punch/jquery.ui.touch-punch.min.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/jquery-ui-multiselect/jquery.multiselect.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/bootstrap-daterangepicker/moment.min.js"></script>
<script type="text/javascript" src="javascript/assets/plugins/select2/select2.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/jquery-inputmask/jquery.inputmask.bundle.min.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/bootstrap-switch/static/js/bootstrap-switch.min.js"></script> 
<script type="text/javascript" src="javascript/assets/plugins/spinner/jquery.mousewheel.js"></script> 
<script type="text/javascript" src="javascript/assets//plugins/data-tables-bs3/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="javascript/assets//plugins/data-tables-bs3/DT_bootstrap.js"></script> 
<!-- END PAGE LEVEL PLUGINS --> 
<!-- BEGIN PAGE LEVEL SCRIPTS --> 
<script type="text/javascript" src="javascript/assets//scripts/app.js"></script> 
<script type="text/javascript" src="javascript/assets/scripts/form-components.js"></script> 
<script type="text/javascript" src="javascript/assets/scripts/ui-jqueryui-sliders.js"></script> 
<script type="text/javascript" src="javascript/assets/scripts/ui-jqueryui-select.js"></script> 
<script type="text/javascript" src="javascript/assets//scripts/table-advanced.js"></script> 
<script type="text/javascript" src="javascript/assets/layer/layer.js"></script> 
<!-- END PAGE LEVEL SCRIPTS --> 
<script>
jQuery(document).ready(function() {    
  //var fnSetData=null;
   App.init(); // init layout and core plugins
   TableAdvanced.init();
   FormComponents.init();
  
   
 
					   
					   
   $('#Dept').change(function(){  
		
	    ActionForm.act.value='queryDept';
		ActionForm.submit();
		});
   
   $('#Unit').change(function(){  
		
	    ActionForm.act.value='queryUnit';
		ActionForm.submit();
		});
   
   $('#Group').change(function(){  
		
	    ActionForm.act.value='queryGroup';
		ActionForm.submit();
		});
   
   $('#oneDAuditorTitle').change(function(){ 
	   var p1= $('#oneDAuditorTitle').val();
	   jQuery.ajax({
			url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneDAuditor'},
			success:function(data){
				 $('#oneDAuditorDiv').html(data);    
			}
		});
   });
   
   $('#oneDAgentTitle').change(function(){ 
	   var p1= $('#oneDAgentTitle').val();
	   jQuery.ajax({
		   url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneDAgent'},
			success:function(data){
				 $('#oneDAgentDiv').html(data);    
			}
		});
   });

   $('#oneMAuditorTitle').change(function(){ 
	   var p1= $('#oneMAuditorTitle').val();
	   jQuery.ajax({
		   url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneMAuditor'},
			success:function(data){
				 $('#oneMAuditorDiv').html(data);    
			}
		});
   });
   
   
   $('#oneMAgentTitle').change(function(){ 
	   var p1= $('#oneMAgentTitle').val();
	   jQuery.ajax({
		   url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneMAgent'},
			success:function(data){
				 $('#oneMAgentDiv').html(data);    
			}
		});
   });
   
   $('#oneEAuditorTitle').change(function(){ 
	   var p1= $('#oneEAuditorTitle').val();
	   jQuery.ajax({
		   url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneEAuditor'},
			success:function(data){
				 $('#oneEAuditorDiv').html(data);    
			}
		});
   });
   $('#oneEAgentTitle').change(function(){ 
	   var p1= $('#oneEAgentTitle').val();
	   jQuery.ajax({
		   url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneEAgent'},
			success:function(data){
				 $('#oneEAgentDiv').html(data);    
			}
		});
   });
   
   $('#oneUAuditorTitle').change(function(){ 
	   var p1= $('#oneUAuditorTitle').val();
	   jQuery.ajax({
		   url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneUAuditor'},
			success:function(data){
				 $('#oneUAuditorDiv').html(data);    
			}
		});
   });
   
   $('#oneUAgentTitle').change(function(){ 
	   var p1= $('#oneUAgentTitle').val();
	   jQuery.ajax({
		   url:'<ActionURI/>&doajax=ChosenSqlDiv',
			type:'POST',
			data:{role:p1,name:'oneUAgent'},
			success:function(data){
				 $('#oneUAgentDiv').html(data);    
			}
		});
   });
 

   
});

function    saveDeptData(){  
	 
	if($('#Dept').val()=='0'){   
		 layer.msg('请选择部门');  
			return;  
	}  
	
	if($('#oneDAuditor').val()=='0'){   
		 layer.msg('请选择部门主管審核者');  
			return;  
	}  
	if($('#oneMAuditor').val()=='0'){   
			 layer.msg('请选择經理審核者');  
				return;  
		}  
	if($('#threeDLever3').val()=='0' & $('#threeDLever4').val()=='0' ){   
		 layer.msg('请选择三天以上部门主管审核流程');  
			return;  
	}  
	if( $('#threeMLever4').val()=='0' ){   
		 layer.msg('请选择三天以上经理审核流程');  
			return;  
	} 
	ActionForm.act.value='saveDept';
	ActionForm.submit();

}  

function    saveUnitData(){  
	 
	if($('#Dept').val()=='0'){   
		 layer.msg('请选择部门');  
			return;  
	}  
	if($('#Unit').val()=='0'){   
		 layer.msg('请选择單位');  
			return;  
	}  
	if($('#oneEAuditor').val()=='0'){   
		 layer.msg('请选择一般员工審核者');  
			return;  
	}  
	if($('#oneUAuditor').val()=='0'){   
			 layer.msg('请选择单位主管審核者');  
				return;  
		}  
	if($('#threeELever1').val()=='0' & $('#threeELever2').val()=='0' & $('#threeELever2').val()=='0'  & $('#threeELever4').val()=='0' ){   
		 layer.msg('请选择三天以上一般员工审核流程');  
			return;  
	}  
	if( $('#threeULever2').val()=='0' & $('#threeULever3').val()=='0' & $('#threeULever4').val()=='0'){   
		 layer.msg('请选择三天以上单位主管审核流程');  
			return;  
	} 
	ActionForm.act.value='saveUnit';
	ActionForm.submit();

}  


function    saveGroupData(){  
	 
	if($('#Dept').val()=='0'){   
		 layer.msg('请选择部门');  
			return;  
	}  
	if($('#Unit').val()=='0'){   
		 layer.msg('请选择單位');  
			return;  
	}  
	if($('#Group').val()=='0'){   
		 layer.msg('请选择组别');  
			return;  
	} 
	if($('#threeGELever0').val()=='0' & $('#threeGELever1').val()=='0' & $('#threeGELever2').val()=='0' & $('#threeGELever2').val()=='0'  & $('#threeGELever4').val()=='0' ){   
		 layer.msg('请选择三天以上组员审核流程');  
			return;  
	}  
	if($('#oneGELever0').val()=='0' & $('#oneGELever1').val()=='0' & $('#oneGELever2').val()=='0' & $('#oneGELever2').val()=='0'  & $('#oneGELever4').val()=='0' ){   
		 layer.msg('请选择三天以下组员审核流程');  
			return;  
	}  
	ActionForm.act.value='saveGroup';
	ActionForm.submit();

}  



function    checkNO(){  

	ActionForm.act.value='R';  
	ActionForm.submit();   
}  

 function    updateData(){  
	 
		if($('#searchDepartmen').val()=='0'){   
			 layer.msg('请选择部门');  
				return;  
		}  
	if($('#searchEmployee').val()=='0'){   
			 layer.msg('請選擇姓名');  
				return;  
		}  
	if($('#searchUnit').val()=='0'){   
		 layer.msg('請選擇单位');  
			return;  
	}  
 
		   
		ActionForm.act.value='update';
		ActionForm.submit();

	}  
  
 function    upReturn(rowID){  

		layer.prompt({title: '退回理由:', formType: 2}, function(text, index){
			ActionForm.act.value='MR';
			ActionForm.returnMsg.value=text;
			ActionForm.rowID.value=rowID;
			ActionForm.submit();
		 });
	}  

 
 

</script> 
<!-- END JAVASCRIPTS -->
</div>
